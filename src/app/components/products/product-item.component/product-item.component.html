<div class="grid-item">

    <div> {{ product.idproducts }}</div>
    <div>
        <img src="{{product.images_url}}" alt="">
        {{ product.name }}</div>
    <div>{{ product.price }}</div>
    @if (product.stock > 0) {
        <div>{{ product.stock }}</div>
    }
    @else {
        <div><span style="color: brown;">Sin stock</span></div>
    }
   
    <div class="actions" [class.responsive]="isSmallScreen">
  <!-- ðŸ”¹ Vista normal (pantallas grandes) -->
  <ng-container *ngIf="!isSmallScreen">
    <button mat-icon-button (click)="toggleEdit()"><mat-icon>edit</mat-icon></button>
    <button mat-icon-button (click)="deleteProduct(product.idproducts)" style="color: rgb(190, 89, 89);">
      <mat-icon>delete</mat-icon>
    </button>
    <button mat-icon-button (click)="toggleVisibility()">
      <mat-icon>{{ product.is_active === 0 ? 'visibility' : 'visibility_off' }}</mat-icon>
    </button>
  </ng-container>

  <!-- ðŸ”¹ Vista compacta (pantallas chicas) -->
  <ng-container *ngIf="isSmallScreen">
    <button mat-icon-button (click)="toggleMenu()" aria-label="Abrir menÃº">
      <mat-icon>settings</mat-icon>
    </button>

    <!-- MenÃº desplegable -->
    <div class="dropdown-menu" *ngIf="showMenu">
      <button mat-icon-button (click)="toggleEdit()"><mat-icon>edit</mat-icon></button>
      <button mat-icon-button (click)="deleteProduct(product.idproducts)" style="color: rgb(190, 89, 89);">
        <mat-icon>delete</mat-icon>
      </button>
      <button mat-icon-button (click)="toggleVisibility()">
        <mat-icon>{{ product.is_active === 0 ? 'visibility' : 'visibility_off' }}</mat-icon>
      </button>
    </div>
  </ng-container>
</div>

</div>

